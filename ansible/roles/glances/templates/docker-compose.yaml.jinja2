version: "3.7"
services:
  glances:
    container_name: glances
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - "alpine_version={{ alpine_version }}"
        - "python_version={{ python_version }}"
    restart: unless-stopped
    pid: host
    stdin_open: true
    tty: true
    ports:
      - "61208:61208"
    environment:
      - "GLANCES_OPT={{ glances_options }}"
    volumes:
      - type: bind
        source: "/var/run/docker.sock"
        target: "/var/run/docker.sock"
      - "/etc/localtime:/etc/localtime:ro"
